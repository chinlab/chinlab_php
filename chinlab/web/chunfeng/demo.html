<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
	</body>
</html><!DOCTYPE html>
<html lang="en">

	<head>

		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="">
		<meta name="author" content="">
		<title>诺春风医疗系统</title>

		<!-- Bootstrap Core CSS -->
		<link href="resource/sbadmin/bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
		<link href="resource/sbadmin/bower_components/bootstrap/dist/css/font-awesome.min.css" rel="stylesheet">
		<link href="resource/sbadmin/bower_components/bootstrap/dist/css/newstyle.css" rel="stylesheet">

		<!-- MetisMenu CSS -->
		<link href="resource/sbadmin/bower_components/metisMenu/dist/metisMenu.min.css" rel="stylesheet">

		<!-- DataTables CSS -->
		<link href="resource/sbadmin/bower_components/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.css" rel="stylesheet">

		<!-- DataTables Responsive CSS -->
		<link href="resource/sbadmin/bower_components/datatables-responsive/css/dataTables.responsive.css" rel="stylesheet">

		<!-- Custom CSS -->
		<link href="resource/sbadmin/dist/css/sb-admin-2.css" rel="stylesheet">

		<!-- Custom Fonts -->
		<link href="resource/sbadmin/bower_components/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
		<link href="resource/sbadmin/bower_components/datetimepicker/css/bootstrap-datetimepicker.min.css" rel="stylesheet" type="text/css">
		<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

		<!-- jQuery -->
		<script src="resource/sbadmin/bower_components/jquery/dist/jquery.min.js"></script>
		<script src="js/jquery.cookie.js" type="text/javascript" charset="utf-8"></script>
		<!-- Bootstrap Core JavaScript -->
		<link href="resource/sbadmin/bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
		<script src="resource/sbadmin/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
		<script src="js/bootstrap-paginator.min.js" type="text/javascript" charset="utf-8"></script>
		<!-- Metis Menu Plugin JavaScript -->
		<script src="resource/sbadmin/bower_components/metisMenu/dist/metisMenu.min.js"></script>

		<!-- DataTables JavaScript -->
		<script src="resource/sbadmin/bower_components/datatables/media/js/jquery.dataTables.min.js"></script>
		<script src="resource/sbadmin/bower_components/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.min.js"></script>

		<!-- Custom Theme JavaScript -->
		<script src="resource/sbadmin/dist/js/sb-admin-2.js"></script>
		<!--new-->
		<script src="resource/sbadmin/bower_components/layer/layer.js"></script>
		<script type="text/javascript" src="resource/sbadmin/js/fnReloadAjax.js"></script>
		<script src="resource/sbadmin/bower_components/datetimepicker/js/bootstrap-datetimepicker.min.js"></script>
		<script src="resource/sbadmin/bower_components/datetimepicker/js/bootstrap-datetimepicker.zh-CN.js"></script>
		<script src="resource/sbadmin/bower_components/colResizable/colResizable-1.6.js"></script>

		<script src="resource/sbadmin/bower_components/Bootstrap-3-Typeahead-master/bootstrap3-typeahead.js"></script>
		
		<script src="js/common.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/extendPagination.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/demo.js" type="text/javascript" charset="utf-8"></script>
		<style>
		form {
			    margin: 0 0 20px;
			}
			.pagination-centered {
			    text-align: center;
			}
			.pagination {
			    margin: 20px 0;
			}
			.pagination ul {
			    border-radius: 4px;
			    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
			    display: inline-block;
			    margin-bottom: 0;
			    margin-left: 0;
			}
			ul, ol {
			    margin: 0 0 10px 25px;
			    padding: 0;
			}
			.pagination ul > li {
			    display: inline;
			}
			li {
			    line-height: 20px;
			}
			.pagination ul > li:first-child > a, .pagination ul > li:first-child > span {
			    border-bottom-left-radius: 4px;
			    border-left-width: 1px;
			    border-top-left-radius: 4px;
			}
			.pagination ul > li:last-child > a, .pagination ul > li:last-child > span {
			    border-bottom-right-radius: 4px;
			    border-top-right-radius: 4px;
			}
			.pagination ul > li > a, .pagination ul > li > span {
			    -moz-border-bottom-colors: none;
			    -moz-border-left-colors: none;
			    -moz-border-right-colors: none;
			    -moz-border-top-colors: none;
			    background-color: #fff;
			    border-color: #ddd;
			    border-image: none;
			    border-style: solid;
			    border-width: 1px 1px 1px 0;
			    float: left;
			    line-height: 20px;
			    padding: 4px 12px;
			    text-decoration: none;
			    cursor:pointer;
			}
			.pagination ul > .active > a, .pagination ul > .active > span {
			    color: #999;
			    cursor: default;
			}
			.pagination ul > li > a:hover, .pagination ul > li > a:focus, .pagination ul > .active > a, .pagination ul > .active > span {
			    background-color: #f5f5f5;
			}
			ul{
				list-style: none;
			}
			.breadcrumb {
				padding: 0px;
				margin-bottom: 0px;
			}
			
			#datatable td,
			#datatable th {
				overflow-x: hidden;
				max-width: 60px;
				white-space: nowrap;
				overflow: hidden;
			}
			
			.isHide{
				display:none!important;
			}
			#page{
				list-style: none;
				padding: 0;
				margin: 0;
				float: right;
			}
			#page li{
				float: left;
				
			}
			#prePage{
				float: left;
			}
			#nextPage{
				float: left;
			}
			#order_start_time{
				display: inline-block!important;
				width: 46%;
			}
			#order_end_time{
				display: inline-block!important;
				width: 46%;
			}
		</style>
		<script>
			$(function() {
				var tdtipindex = "";
				$(document).on("mouseover", "#datatable td,#datatable th", function() {
					var tdcontent = $(this).text();
					tdtipindex = layer.tips(tdcontent, $(this), {
						tips: [1, '#333333'],
						time: 0
					});
				}).on("mouseout", "#datatable td,#datatable th", function() {
					layer.close(tdtipindex);
				});
			});
		</script>
	</head>

	<body>
		<div class="mycommonfade" style="background-color:#000; opacity:0.3; filter:alpha(opacity=30);"></div>
		<div class="col-lg-12">
			<div class="panel panel-default">
				<!-- /.panel-heading -->
				<div class="panel-body">

					<div class="panel-group" id="accordion">
						<div class="panel panel-default">
							<div class="panel-heading">
								<h4 class="panel-title">
                            <a data-toggle="collapse" id="closesearchform" data-parent="#accordion"
                               href="#collapseOne">
                                筛选条件
                                <span class="icon-angle-up">
                                </span>
                            </a>
                        </h4>
							</div>
							<div id="collapseOne" class="panel-collapse collapse in">
								<div class="panel-body">
									<form class="">
										<div class="clearfix">
										</div>
										<div class="col-sm-3">
											<div class="form-group">
												<label for="order_number">订单号</label>
												<!-- new -->
												<input type="text" class="form-control" id="order_number" placeholder="订单号">
											</div>
										</div>
										<div class="col-sm-2">
											<div class="form-group">
												<label for="order_name">用户名</label>
												<!-- new -->
												<input type="text" class="form-control" id="order_name" placeholder="患者姓名">
											</div>
										</div>
										<div class="col-sm-3">
											<div class="form-group">
												<label for="order_phone">手机号</label>
												<input type="text" class="form-control" id="order_phone" placeholder="就诊人电话号码">
											</div>
										</div>
										<div class="col-sm-2">
											<div class="form-group">
												<label for="order_type">订单状态</label>
												<select id="order_type" name="order_type" class="form-control" data-rel="chosen">
													<option value="">请选择</option>
												</select>
											</div>
										</div>
										<div class="col-sm-2">
											<div class="form-group">
												<label for="pay_state">支付状态</label>
												<select id="pay_state" name="pay_state" class="form-control">
													<option value="">请选择</option>
												</select>
											</div>
										</div>
										
										<div class="col-sm-4">
											<div class="form-group" >
												<label for="order_time" style="display: block;">订单时间</label>
												<input type="text" class="form-control" id="order_start_time">&nbsp;&nbsp;至&nbsp;&nbsp;
												<input type="text" class="form-control" id="order_end_time">
											</div>
										</div>
										<div class="form-group">
											<div class="col-sm-1">
												<button id="searchbtn" type="button" class="btn btn-primary" style="margin-top: 25px;">
                                            确定
                                        </button>
											</div>
										</div>
									</form>
								</div>
							</div>
						</div>
					</div>
					<div class="dataTable_wrapper">
						<table class="table table-striped table-bordered table-hover" id="datatable">
							<thead>
								<tr>
									<th>
										ID
									</th>
									<th>
										订单号
									</th>
									<th>
										服务项目
									</th>
									<th>
										患者姓名
									</th>
									<th>
										手机号码
									</th>
									<th>
										平台咨询费
									</th>
									<th>
										支付状态
									</th>
									<th>
										订单状态
									</th>
									<th>
										操作
									</th>
								</tr>
							</thead>
							<tbody>
								
							</tbody>
						</table>
						
							
						<div id="page" class="pagination"></div>
							
						
					</div>
				</div>
				<!-- /.panel-body -->
			</div>
			<!-- /.panel -->
		</div>
		<script>
			var table;
			$(document).ready(function() {
				
				$('#collapseOne').on('show.bs.collapse',
					function() {
						$("#closesearchform").html('筛选条件<span class="icon-angle-up"></span>');
					});
				$('#collapseOne').on('hide.bs.collapse',
					function() {
						$("#closesearchform").html('筛选条件<span class="icon-angle-down"></span>');
					});

				$('#order_start_time').datetimepicker({
					language: 'zh-CN',
					format: "yyyy-mm-dd hh:ii"
				}).on('changeDate', function(ev) {});
				
				
				$('#order_end_time').datetimepicker({
					language: 'zh-CN',
					format: "yyyy-mm-dd hh:ii"
				}).on('changeDate', function(ev) {});
				
				
//				  $('#order_time_end').datetimepicker({
//						language: 'zh-CN',
//						format: "yyyy-mm-dd"
//					}).on('changeDate', function(ev) {});
//					$('#order_date_end').datetimepicker({
//						language: 'zh-CN',
//						format: "yyyy-mm-dd"
//					}).on('changeDate', function(ev) {});

//				function orderState(state) {
//					if(state == 1) {
//						return "未回复";
//					} else {
//						return "已回复";
//					}
//				}

//				var state = "";
//				var type = "";
//				var href = window.location.search;
//				console.log(href)
//  			var type_1 = href.replace("?","").split("=")[1];
//				table = $("#datatable").dataTable({
//					"processing": true,
//					"serverSide": false,
//					"searching": false,
//					"ordering": false,
//					"bLengthChange": false,
//					//去掉每页显示多少条数据方法
//					"iDisplayLength": 10,
//					"stateSave": false,
//					"oLanguage": { //对表格国际化
//						"sLengthMenu": "每页显示 _MENU_条",
//						"sZeroRecords": "没有找到符合条件的数据",
//						//  "sProcessing": "&lt;img src=’./loading.gif’ /&gt;",
//						"sInfo": "当前第 _START_ - _END_ 条　共计 _TOTAL_ 条",
//						"sInfoEmpty": "没有记录",
//						"sInfoFiltered": "(从 _MAX_ 条记录中过滤)",
//						"sSearch": "搜索：",
//						"oPaginate": {
//							"sFirst": "首页",
//							"sPrevious": "前一页",
//							"sNext": "后一页",
//							"sLast": "尾页"
//						}
//					},
//					"columnDefs": [{
//						"searchable": true,
//						"targets": 1
//					}],
//					"ajax": {
//						"url": local+"/order_indexJson.php",
//						"dataSrc": function(data) {
//							if(data.state==100){
//								var data=""
//							}else{
//								var data = data.data.data
//							}
//							return data
//						},
//						"data": function(d) {
//							//添加额外的参数传给服务器
//							d.order_type = $("#order_type").val();
//							d.order_name = $("#order_name").val();
//							d.order_number = $("#order_number").val();
//							d.order_phone = $("#order_phone").val();
//							d.order_time = $("#order_time").val();
//							d.order_state = $("#order_state").val();
//							d.user_id = "";
//						}
//					},
//					"columns": [{
//						"data": "order_number",
//						"bSortable": false
//					}, {
//						"data": "order_time"
//					}, {
//						"data": function(data) {
//							if(data.order_type == 1) {
//								type = "手术预约"
//							} else if(data.order_type == 2) {
//								type = "精准预约"
//							} else if(data.order_type == 3) {
//								type = "海外医疗"
//							} else {
//								type = "绿色通道"
//							}
//							return type
//						}
//					}, {
//						"data": "order_name"
//					}, {
//						"data": "order_phone"
//					}, {
//						"data": function(data) {
//							if(data.order_state == 1) {
//								state = "待安排"
//							} else if(data.order_state == 2) {
//								state = "待确认"
//							} else if(data.order_state == 3) {
//								state = "已完成"
//							} else if(data.order_state == 4) {
//								state = "已评价"
//							} else {
//								state = "已取消"
//							}
//							return state
//						}
//					}],
//					"columnDefs": [{
//						"targets": [6],
//						"data": "order_id",
//						"render": function(data, type, full) {
//							return '<a class="edittrinfo" id="' + data + '" trid="' + data + '" href="javascript:void(0)">查看/编辑</a>&nbsp;&nbsp;<a class="delrecord isShow" id="' + data + 'del" trid="' + data + '" href="javascript:void(0)">删除</a>';
//						}
//					}],
//					"fnDrawCallback":function(){
//					    
//  					console.log(type_1)
//  					if(type_1==1){			 				
//			    			$(".isShow").addClass("isHide");
//			    		}
//					}
//				});
//
//				$("#searchbtn").click(function() {
//					table.fnReloadAjax();
//					console.log($("#order_type").val())
//				});

			});

//			var layerindex = "";
//			var ifchange = false;
//			$(document).on("click", ".edittrinfo",
//				function() {
//					var trid = $(this).attr("trid");
//					$(document.body).css({
//						"overflow-x": "hidden",
//						"overflow-y": "hidden"
//					});
//					powidth = $(window).width() - 50;
//					poheight = $(window).height() - 50;
//					layerindex = layer.open({
//						type: 2,
//						title: "用户预约详情",
//						fix: false,
//						shadeClose: true,
//						maxmin: true,
//						area: [powidth + 'px', poheight + 'px'],
//						content: "order_returnuserinfo.html?id=" + trid,
//						end: function() {
//							reflashrecord(trid);
//							$(document.body).css({
//								"overflow-x": "auto",
//								"overflow-y": "auto"
//							});
//						}
//					});
//				});
//			$(document).on("click", ".delrecord", function() {
//				$trid = $(this).attr("trid");
//				layer.confirm('确定要删除？', {
//					btn: ['确定', '取消'] //按钮
//				}, function($index) {
//					layer.close($index);
//					var loadingindex = layer.load(1, {
//						shade: [0.5, '#ddd'] //0.1透明度的白色背景
//					});
//					$.post(local+"/order_indexJson.php", {
//						"id": $trid
//					}, function(data) {
//						layer.close(loadingindex);
//						if(data.code == 0) {
//							layer.msg('删除成功', {
//								icon: 1,
//								closeBtn: 1,
//								shadeClose: true
//							});
//							table.fnReloadAjax();
//						} else {
//							layer.msg(data.message, {
//								icon: 5,
//								closeBtn: 1,
//								shadeClose: true
//							});
//						}
//					}, "json")
//				});
//			});
//			
			
			
//			function reflashrecord(id) {
//				$.post("https://test.huobanys.com/order_indexJson.php", {
//						"id": id
//					},
//					function(result) {
//						var data = result.data.data;
//						var $tds = $("#" + id).parents("tr").find("td");
//
//						$tds.eq(0).text(data.order_number);
//						$tds.eq(1).text(data.order_time);
//						$tds.eq(2).text(data.ordertype);
//						$tds.eq(3).text(data.order_name);
//						$tds.eq(4).text(data.order_phone);
//						$tds.eq(5).text(data.order_state);
//						return;
//					},
//					'json');
//			}
		</script>
				
	</body>
</html>
