
<!DOCTYPE html>
<HTML>
    <HEAD>
        <TITLE>区域选择</TITLE>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <link rel="stylesheet" href="resource/z_tree/css/demo.css" type="text/css">
        <link rel="stylesheet" href="resource/z_tree/css/zTreeStyle/zTreeStyle.css" type="text/css">
        <script type="text/javascript" src="resource/z_tree/js/jquery-1.4.4.min.js"></script>
        <script type="text/javascript" src="resource/z_tree/js/jquery.ztree.core-3.5.js"></script>
        <!--  <script type="text/javascript" src="../../../js/jquery.ztree.excheck-3.5.js"></script>
          <script type="text/javascript" src="../../../js/jquery.ztree.exedit-3.5.js"></script>-->
        <SCRIPT type="text/javascript">
            //<!--
                var setting = {
                async: {
                    enable: true,
                    url: "/district_getdistrictbyasync.html",
                    dataType: "json",
                    autoParam: ["id","citycode"],
                    dataFilter: filter
                },
                callback: {
                    onDblClick: zTreeOnDblClick
                }
            };

            function filter(treeId, parentNode, childNodes) {
                if (!childNodes)
                    return null;
                for (var i = 0, l = childNodes.length; i < l; i++) {
                    childNodes[i].name = childNodes[i].name.replace(/\.n/g, '.');
                }
                return childNodes;
            }

            function zTreeOnDblClick(event, treeId, treeNode) {
                $("input[name=citycode]", window.parent.document).val(treeNode.citycode);
                $("input[name=districtname]", window.parent.document).val(treeNode.name);
                $("input[name=district_id]", window.parent.document).val(treeNode.id);
                $(".mycommonfade", window.parent.document).click();
                            }

            var zNodes = [{"id":"100000","citycode":"001","name":"\u4e2d\u56fd","isParent":"true"}] ;
                    $(document).ready(function() {
                $.fn.zTree.init($("#treeDemo"), setting, zNodes);
            });
            //-->
        </SCRIPT>
        <style>
            body{
                width:250px;
                height:462px;
                overflow-x: hidden;
                overflow-y: hidden;
            }
            #treeDemo{
                max-height:350px;
            }
        </style>
    </HEAD>

    <BODY>
        <div class="zTreeDemoBackground left">
            <ul id="treeDemo" class="ztree"></ul>
        </div>
    </BODY>
</HTML>